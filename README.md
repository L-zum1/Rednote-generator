# 小红书内容生成器

一个基于LangChain和OpenAI API的小红书内容生成工具，提供美观的Web界面，支持文本和媒体内容分析，帮助用户快速生成高质量的小红书风格内容。

## 功能特点

- 🎨 **现代化界面**: 采用玻璃态设计和3D按钮效果，提供美观的用户体验
- 🤖 **智能内容生成**: 基于LangChain框架和OpenAI模型，生成符合小红书风格的内容
- � **媒体分析**: 支持图片和视频上传分析，基于媒体内容生成相关文案
- 🏷️ **内容结构化**: 自动生成标题、正文、标签和参考内容
- ⚙️ **灵活配置**: 支持自定义内容长度、创意度和风格
- 📱 **响应式设计**: 适配各种设备屏幕尺寸
- 🔄 **拖拽上传**: 支持文件拖拽上传，提供便捷的用户体验

## 技术栈

- **后端**: Python Flask
- **AI框架**: LangChain
- **AI模型**: doubao-seed-1-6-vision-250815 (豆包视觉模型)
- **前端**: HTML5 + CSS3 + JavaScript
- **UI设计**: 玻璃态设计 + 3D按钮效果
- **媒体处理**: OpenCV (视频处理) + PIL (图像处理)

## 安装与使用

### 环境要求

- Python 3.8+
- 豆包API密钥 (ARK_API_KEY)

### 安装步骤

1. 克隆仓库
```bash
git clone https://github.com/L-zum1/Rednote-generator.git
cd Rednote-generator
```

2. 安装依赖
```bash
pip install -r requirements.txt
```

3. 设置API密钥
- 创建`.env`文件并添加您的API密钥：
```
ARK_API_KEY=your_api_key_here
```

4. 运行应用
```bash
python app.py
```

5. 在浏览器中访问 `http://localhost:5000`

### 使用方法

#### 方式一：基于文本生成内容

1. 在"主题"输入框中输入您想要生成内容的主题
2. 调整"内容长度"滑块设置生成内容的字数
3. 调整"创意度"滑块控制内容的创意程度
4. 选择内容风格（活泼、专业、幽默等）
5. 输入您的豆包API密钥
6. 点击"生成小红书内容"按钮
7. 等待生成结果，查看生成的内容标题、正文、标签和参考内容

#### 方式二：基于媒体生成内容

1. 在上传区域点击或拖拽上传图片/视频文件
2. 等待文件上传和分析完成
3. 查看媒体分析结果
4. 基于媒体分析结果生成小红书内容
5. 调整内容参数（长度、创意度、风格）
6. 输入您的豆包API密钥
7. 点击"生成小红书内容"按钮
8. 查看最终生成的内容

## 项目结构

```
Rednote-generator/
├── app.py              # Flask后端应用
├── untils.py           # 核心功能实现
├── requirements.txt    # 项目依赖
├── templates/          # HTML模板
│   └── index.html      # 前端界面
├── uploads/            # 上传文件临时存储目录
└── README.md          # 项目说明文档
```

## 核心功能实现

### 内容生成流程

#### 文本内容生成
1. **主题解析**: 分析用户输入的主题
2. **内容生成**: 基于LangChain和豆包模型生成小红书风格内容
3. **格式化输出**: 将生成的内容格式化为小红书风格的标题、正文、标签和参考内容

#### 媒体内容生成
1. **文件上传**: 接收用户上传的图片或视频文件
2. **媒体分析**: 使用视觉模型分析媒体内容
3. **内容生成**: 基于媒体分析结果生成相关文案
4. **格式化输出**: 将生成的内容格式化为小红书风格的内容结构

### 技术实现细节

- **LangChain集成**: 使用LangChain框架管理AI模型调用和提示词模板
- **视觉模型**: 集成doubao-seed-1-6-vision-250815模型进行媒体内容分析
- **媒体处理**: 使用OpenCV和PIL处理视频和图像文件
- **错误处理**: 完善的错误处理机制，提供友好的错误提示
- **前端交互**: 使用JavaScript实现动态加载效果、文件拖拽上传和表单验证

## 注意事项

- 请确保您的豆包API密钥有效且有足够的额度
- 上传的图片和视频文件大小限制为50MB
- 支持的图片格式：PNG, JPG, JPEG, GIF, BMP, WEBP
- 支持的视频格式：MP4, AVI, MOV, MKV, WEBM
- 生成内容可能需要几秒钟时间，请耐心等待
- 生成的内容仅供参考，使用前请进行适当修改

## 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 许可证

MIT License

## 更新日志

### v2.0.0
- 添加图片和视频上传分析功能
- 统一使用doubao-seed-1-6-vision-250815模型
- 优化内容结构，支持标题、正文、标签和参考内容
- 移除Wikipedia搜索功能，提高响应速度
- 重构代码结构，提高可维护性
- 添加文件拖拽上传功能

### v1.0.0
- 初始版本发布
- 实现基本的小红书内容生成功能
- 添加现代化Web界面
- 集成Wikipedia搜索功能